<template>
  <div class="dashboard-container">
    <CurrentState/>
    <Chart />
    <ForecastChart />
  </div>
</template>

<script setup>
import { onMounted } from 'vue';
import Chart from '@/components/chart.vue';
import ForecastChart from '@/components/ForecastChart.vue';
import CurrentState from '@/components/CurrentState.vue';

const refreshInterval = 60000; // 60 m√°sodperc

const fetchAllData = () => {
  console.log("üîÑ Adatok friss√≠t√©se...");
  // Friss√≠ti az √∂sszes komponenst
  const event = new Event("refresh-data");
  window.dispatchEvent(event);
};

onMounted(() => {
  fetchAllData(); // Bet√∂lt√©skor is friss√≠t√©s
  setInterval(fetchAllData, refreshInterval); // 1 percenk√©nt friss√≠t
});
</script>
